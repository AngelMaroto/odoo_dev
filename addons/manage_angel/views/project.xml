<odoo>
  <data>
  <!--
    # VISTA TREE (LISTA)
    # Es lo que ves cuando entras al menú. Columnas simples.
    -->
    <record id="view_project_tree" model="ir.ui.view">
      <field name="name">manage.project.tree</field>
      <field name="model">manage.project</field>
      <field name="arch" type="xml">
        <tree string="Projects">
          <field name="name"/>
          <field name="description"/>
          <!--# NOTA: Aquí no ponemos history_ids ni sprint_ids porque
          # ensuciarían mucho la lista.-->
        </tree>
      </field>
    </record>

  <!--
    # 
    # VISTA FORM (FORMULARIO)
    # Lo que ves al crear o entrar en un registro.
    # -->
    <record id="view_project_form" model="ir.ui.view">
      <field name="name">manage.project.form</field>
      <field name="model">manage.project</field>
      <field name="arch" type="xml">
        <form string="Project Form">
          <sheet>
            <group>
              <field name="name"/>
              <field name="description"/>
              
              <!--
              # TRUCO DE EXAMEN:
              # Al poner campos One2many dentro de un group o sheet,
              # Odoo crea automáticamente una "tabla hija" donde puedes
              # añadir registros directamente.-->
              <field name="history_ids"/>
              <field name="sprint_ids"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!--
    # ACTION (LA ACCIÓN DE VENTANA)
    # Conecta el Menú con las Vistas.
    # -->
    <record id="action_manage_project" model="ir.actions.act_window">
      <field name="name">Projects</field>
      <field name="res_model">manage.project</field>
      <field name="view_mode">tree,form</field>
    </record>

   <!--
    # MENUITEM
    # El botón en la barra lateral.
    # 'parent' apunta al ID del menú raíz (definido en history.xml)
    -->
    <menuitem id="menu_manage_project" parent="menu_manage_root" action="action_manage_project"/>

  </data>
</odoo>